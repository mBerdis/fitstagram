<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0064)https://www.fit.vut.cz/study/course/IIS/private/projekt/doc.html -->
<html><link type="text/css" rel="stylesheet" id="dark-mode-custom-link"><link type="text/css" rel="stylesheet" id="dark-mode-general-link"><style lang="en" type="text/css" id="dark-mode-custom-style"></style><style lang="en" type="text/css" id="dark-mode-native-style"></style><style lang="en" type="text/css" id="dark-mode-native-sheet"></style><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">

    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<img>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu
     podle pou¾itého editoru -->

<h1>FITstagram</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Matej Koscelník <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xkosce01@stud.fit.vutbr.cz">xkosce01@stud.fit.vutbr.cz</a> -
		príspevky, komentáre, pridávanie príspevkov
	</dd>
	<dd>Filip Halèi¹ák <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xhalci02@stud.fit.vutbr.cz">xhalci02@stud.fit.vutbr.cz</a> -
		vyhµadávanie skupín, u¾ívateµov a tagov
	</dd>
  <dd>Maro¹ Berdis <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xberdi01@stud.fit.vutbr.cz">xberdi01@stud.fit.vutbr.cz</a> -
		správa a zobrazenie skupín a priateµov
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="https://www.stud.fit.vutbr.cz/~xberdi01">https://www.stud.fit.vutbr.cz/~xberdi01</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin@example.com</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>moderator@example.com</td><td>moderator</td><td>Moderátor</td></tr>
<tr><td>user@example.com</td><td>user</td><td>Registrovaný u¾ivateµ</td></tr>
</tbody></table>

<h3>Video</h3>

<iframe src="https://drive.google.com/file/d/18AmfUiUuHkH6eMeQFQE2T5oIq0BYvmAq/preview" width="1000" height="700"></iframe>

<h2>Implementace</h2>
<p>Aplikácia je vytvorená pomocou technologií <b>Laravel, Vue.js a Inertia</b> (rie¹i routing, "náhrada za API").
    <ul>
        <li>
            <b>Prihlásenie a správu uètu sme prevzali z <a href="https://laravel.com/docs/11.x/starter-kits#breeze-and-inertia">Laravel Breeze Starter Kit</a>.</b>
            To je implementované v prieèinkoch <b>app/Http/Controllers/Auth/</b>, <b>app/Http/Controllers/ProfileController.php</b> a <b>app/Http/Requests/</b>
        </li>

        <li> app/Http/<strong>Controllers</strong>
            <ul>
                <li> /Group
                    <ul>
                        <li>
                            <b>/GroupController.php</b>
                            Správa skupín
                        </li>
                        <li>
                            <b>/GroupJoinController.php</b>
                            Správa èlenov skupiny, ¾iadosti o vstup
                        </li>
                    </ul>
                </li>

                <li> /Post
                    <ul>
                        <li>
                            <b>/CommentController.php</b>
                            Správa komentárov
                        </li>
                        <li>
                            <b>/PostController.php</b>
                            Správa príspevkov
                        </li>
                    </ul>
                </li>

                <li> /SearchBar
                    <ul>
                        <li>
                            <b>/SearchBarController.php</b>
                            Správa vyhµadavania
                        </li>
                    </ul>
                </li>

                <li> /User
                    <ul>
                        <li>
                            <b>/FriendRequestController.php</b>
                            Správa priateµstiev a ¾iadosti o ne.
                        </li>
                        <li>
                            <b>/UserController.php</b>
                            Správa pou¾ivateských rolí a mazanie úètu.
                        </li>
                    </ul>
                </li>
            </ul>
        </li>

        <li> app/Http/<strong>Services</strong>
            <ul>
                <li>
                    <b>/GroupManagmentService.php</b>
                    Funkcie na správu skupín
                </li>
                <li>
                    <b>/PostRetrievalService.php</b>
                    Funkcie na ziskávanie príspevkov
                </li>
                <li>
                    <b>/UserAuthenticationService.php</b>
                    Funkcie k roliam
                </li>
            </ul>
        </li>

        <li>
            Front End aplikácie sa nachádza v prieèinku <b>resources/</b>
        </li>

        <li>
            Inertia Routes sú definované v súbore <b>routes/web.php</b>, priradzujú metódy controlleru k ceste
        </li>

        <li>
            Pre prácu s DB pou¾ívame ORM, ktorého modely sú v prieèinku <b>app/Models/</b> a databáza sa tvorí z migrácií v prieèinku <b>database/migrations/</b>
        </li>

        <li>
            Testovacie dáta (seeds) sú náhodne generované pomocou kódu v <b>database/seeders/</b> a <b>database/factories/</b>
            <ul>
                <li>
                    komentáre, popisky príspevkov a mená u¾ivateµov, skupín, tagov pomocou kni¾nice FakerPHP
                </li>
                <li>
                    profilové obrázky u¾ivateµov sa s»ahujú zo stránky <a href="https://thispersondoesnotexist.com/">https://thispersondoesnotexist.com/</a>
                </li>
                <li>
                    profilové obrázky skupín a fotky v príspevkoch sa s»ahujú zo stránky <a href="https://picsum.photos/">https://picsum.photos/</a>
                </li>
            </ul>
        </li>
    </ul>

<h3>Databáze - MySQL</h3>
<img src="scheme.png"></img>

<h2>Instalace</h2>
<ul>
<li>postup jednoduchej in¹talácie na server:</li>
<ol>
    <li>
        Rozbali» archív projektu do verejného prieèinku webového servera (napr. <b>WWW/</b> alebo <b>htdocs/</b>)
    </li>
    <li>
        V súbore <b>.env</b> definova» db connection udáje
    </li>
    <li>
        V súbore <b>vendor/laravel/framework/src/Illuminate/Foundation/resources/server.php</b> zmeni» cestu k index.php na riadku 23 na "/../index.php" (kvôli kompatibilite so serverom Eva)
    </li>
    <li>
        V prieèinku projektu spusti» príkazy:
    </li>
    <ol>
        <li>
            <b>composer install</b>, ktorý stiahne vendor súbory
        </li>

        <li>
            <b>npm install</b>, ktorý stiahne .js balíèky
        </li>
        <li>
            <b>php artisan storage:link</b>, ktorý vytvorí symbolický odkaz na ulo¾isko obrázkov (prieèinok <b>/public/storage/uploads/</b>)
        </li>
        <li>
            <b>php artisan serve</b>, ktorý spustí server
        </li>
    </ol>


</ol>

<li>softwarové po¾iadavky: </li>
    <ul>
        <li>
            PHP version > 81
        </li>
        <li>
            Nain¹talovaný Laravel v. 11.x, Composer, npm
        </li>
    </ul>
<li>Inicializácia MySQL databázi:
    <ol>
        <li>
            Vytvori» prazdnú db, napr. cez <b>phpmyadmin</b>
        </li>
        <li>
            V súbore <b>.env</b> definova» db connection udáje
        </li>
        <li>
            V prieèinku projektu spusi» príkaz <b>php artisan migrate:fresh  --seed</b>, ktorý z migrácií vytvorí tabuµky a vlo¾í seed dáta
        </li>
    </ol>

</li>
</ul>

<h2>Známé problémy</h2>

<ul>
    <li>Admin vie zmaza» vlastný úèet a zmeni» si rolu.</li>
    <li>Prida» príspevok do skupín je mo¾né iba pri jeho tvorbe. Av¹ak odstráni» ho zo skupiny sa dá kedykoµvek.</li>
    <li>Ak admin po¾iadá o vstup do skupiny, ¾iados» uvidí v zozname a¾ po refreshe stránky. Je to tak preto¾e, kvôli optimalizácií aktualizujeme iba niektoré dáta a to ¾e si admin po¾iada a sám potvrdí svoju ¾iados» nie je be¾ný use-case.</li>
</ul>


</body></html>
